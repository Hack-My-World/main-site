<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>OP-TEE</title>

    <!-- Bootstrap Core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Start Bootstrap</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li>
                        <a href="about.html">About</a>
                    </li>
                    <li>
                        <a href="post.html">Sample Post</a>
                    </li>
                    <li>
                        <a href="contact.html">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('../img/home-bg.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>OP-TEE</h1>
                        <h2 class="subheading">Open Source Trusted Execution Environment</h2>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
    <h1>OP-TEE</h1> 
        Our goal was to better understand TrustZone, which is a security feature built into the arm architecture, usually used for the purpose of protecting copyrighted material via DRM. Our theory was that if we could better understand an open source trusted execution environment, we would be that much closer to understanding a closed source TEE, such as QSEE (Qualcom Secure Execution Environment)
    <h2>Setup</h2>


            <li>we are running in Ubuntu 14.04</li>
        <p>
            Most of the setup for OP-TEE is detailed <a href="http://github.com/OP-TEE/ op-tee_os">here</a>. When you get to <a href="https://github.com/OP-TEE/optee_os#51-install-repo">this</a> section, be sure to to only fallow the instructions for installing the Repo, do not run 


            <pre>
repo init -u https://android.googlesource.com/platform/manifest
            </pre> 

You will end up installing the entire android source tree. This will break your VM and your computer.
         </p>    

    <h2>Adding Stuff</h2>

            <p>
                 <li><a href="https://www.ibm.com/  op-tee operworks/library/l-initrd/">ramdisk</a></li>
             </p>

        <h3>procedure</h3>
            <p>
                <li>In <code>/gen/gen_rootfs</code> there is a README </li>
                <li>add your file to <code>/gen_rootfs/etc</code></li>
                <li>Add new files to <code>/gen_rootfs/filelist.txt</code> with format 

                <pre>
File-Type PATH/TO/LOCAL/FILE PATH/TO/FILE/IN/RAMDISK permissions 0 0
                </pre>

                </li>
            </p>
        <h3>Compiling stuff</h3>
            <p>
                there is a built in gcc that will cross compile for ARM in <code>/toolchains/aarch32/bin/</code> . 

                <pre>
mkdir ~/op-tee/test
cd ~/op-tee/test
touch test.c
vim makefile
                </pre>

                I added the lines

                <pre>
test:
../toolchains/aarch32/bin/arm-linux-gnueabihf-gcc-4.9.2 test.c -o ../gen_rootfs/etc/test
                </pre>

                    then just update <code>filelist.txt</code> and run

                <pre>
cd ~/op-tee/build
make all run
                </pre>
                </p>

                </div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a href="https://twitter.com/_kablaa">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://github.com/kablaa">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://www.github.com/kablaa">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; Your Website 2014</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="../js/clean-blog.min.js"></script>

</body>

</html>
